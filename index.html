<!doctype html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163985569-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-163985569-1');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Vilnius iGEM AR</title>
    <link href="./css/main-temp.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./css/languagebox.css">
</head>

<body>
    <div id="main">
        <section id="intro" class="section">
            <div id="top" class="row">
                <h3>6-asis</h3>
                <h2>SinBio</h2>
                <h1 id="main-text">
                    <p id="static-text"> pojūtis</p>
                    <p id="movingDot">.</p>
                </h1>
            </div>

            <div id="middle" class="row">
                <hr align="left" id="line">
                <p id="middle-text">Pažink iš naujo gyvybės mokslus panirdamas į AR ir QR technologijas.</p>

            </div>
            <div id="bottom" class="row">
                <svg version="1.1" id="arrows" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 73.4 100" enable-background="new 0 0 73.4 100" xml:space="preserve">
                    <polyline fill="none" stroke="#FCBD1B" stroke-width="11" stroke-linecap="round" stroke-linejoin="round" points="5.5,5.5 
	36.7,39.6 67.9,5.5 " />
                    <polyline fill="none" stroke="#FCBD1B" stroke-width="11" stroke-linecap="round" stroke-linejoin="round" points="5.6,60.4 
	36.8,94.5 68,60.4 " />
                </svg>
            </div>
        </section>
        <section id="main-menu" class="section">
            <div id="menu-top" class="row">
                <div class="col-6" id="dyslexia"><img id="dysImg" src="images/disleksija.svg">
                    <p id="dysText">Modifikacija<br> disleksijai</p>
                </div>
                <div class="col-6" id=languages>
                    <p>LT</p>
                    <p>EN</p>
                </div>
            </div>
            <div class="row" id="middle-menu">
                <div>
                    <img src="./images/igem.png" height="442px" width="653px" alt="iGEM Vilnius Logo">
                </div>

                <div class="row" id="navigation">
                    <a href="./map.html" id="button-map"></a>
                    <a href="./info.html" id="button-instr"></a>
                    <a href="#" id="button-print"></a>
                    <a href="http://vilniusigem.lt" id="button-igem" target="_blank" aria-label="Vilnius iGEM main page">iGEM</a>

                </div>


            </div>
            <div class="row" id="footer">
                <a href="#">Privatumo politika</a>
            </div>
        </section>
    </div>

    <script src="js/languages.js" charset="UTF-8"></script>
    <script src="js/fullPage.min.js"></script>
    <script>
        var dotTravel
        var dotWidth;

        function setInitialElements() {
            var viewportOffsetDot = document.getElementById("movingDot").getBoundingClientRect();

            dotWidth = viewportOffsetDot.width;
            document.getElementById("arrows").style.width = dotWidth * 2
            var arrowWidth = document.getElementById("arrows").getBoundingClientRect().width;
            dotLeft = viewportOffsetDot.left;

            document.getElementById("arrows").style.marginLeft = dotLeft - dotWidth / 2

            var viewportOffseth1 = document.getElementById("main-text").getBoundingClientRect();

            document.getElementById("middle").style.width = viewportOffseth1.width + "px";
            document.getElementById("middle-text").style.width = (viewportOffseth1.width * 0.9) + "px";
            document.getElementById("middle").style.marginLeft = viewportOffseth1.left + "px";
            var viewportDyslexia = document.getElementById("dysText").getBoundingClientRect();
            console.log(viewportDyslexia);
            document.getElementById("dysImg").style.height = viewportDyslexia.height + "px";
        }
        window.addEventListener('load', setInitialElements)
        window.onresize = setInitialElements

        document.getElementById("arrows").addEventListener('hover', function() {
            document.getElementById("line").style.width = "50%"
        })
        document.getElementById("intro").addEventListener('click', function() {
            console.log(document.getElementById("line").getBoundingClientRect().width, dotWidth)
            document.getElementById("line").style.width = (document.getElementById("static-text").getBoundingClientRect().width * 0.95) + "px"
        })
        /*document.getElementById("arrows").addEventListener('click', function() {
                              var middlePart = document.getElementById("middle").getBoundingClientRect();
                              console.log(middlePart.right, dotLeft)
                              if (middlePart.right > dotLeft) {
                                  document.getElementById("middle").style.transform = "translateX(-400px)"
                              }

                              document.getElementById("movingDot").style.transform = "translateY(" + dotTravel + "px)"
                          })
*/
        var page = new FullPage("#main", {

            // section selector
            section: '.section',

            // animation options
            animationDuration: 1000,
            animationTiming: 'ease',
            animationTranform: 'transform',

            // enable side navigation
            pagination: true,

            // enable keyboard navigation
            keyboard: true,

            // enable touch events
            touch: true,

            // touch limit in ms
            touchLimit: 100,

            // infinite loop
            loop: false,

            // callbacks
            onLeave: null,
            afterLoad: null,

        });
        let texts = {
            lt: {
                map: "Stotelių žemėlapis",
                instr: "Instrukcija",
                print: "Atsispausdink AR markerius"
            },
            en: {
                map: "Stations map",
                instr: "Instructions",
                print: "Print AR marker"
            }
        };

        function updateTexts(language) {
            document.getElementById("button-map").innerText = texts[language].map;
            document.getElementById("button-instr").innerText = texts[language].instr;
            document.getElementById("button-print").innerText = texts[language].print;
        }

        updateTexts(LanguageSwitcher.currentLanguage);


        LanguageSwitcher.addOnLanguageChangeListener(updateTexts);
    </script>
</body></html>
